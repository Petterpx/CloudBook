# é‡å­¦æ•°æ®ç»“æ„-äºŒåˆ†æœç´¢æ ‘åŠå®ƒçš„å„ç§æ“ä½œ(kotlinå®ç°)

<img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gjp7cu49bwj30y50m8q5q.jpg" alt="image-20201014215233724" style="zoom: 67%;" />

> åœ¨å¼€å§‹ä¹‹å‰ï¼Œåº”è¯¥å…ˆè®²ä¸€ä¸‹ä»€ä¹ˆæ˜¯äºŒå‰æ ‘ã€‚

### ä»€ä¹ˆæ˜¯äºŒå‰æ ‘ï¼Ÿ

- å’Œé“¾è¡¨ä¸€æ ·ï¼ŒåŒæ ·ä¹Ÿæ˜¯åŠ¨æ€æ•°æ®ç»“æ„

- äºŒå‰æ ‘å…·æœ‰å”¯ä¸€çš„æ ¹èŠ‚ç‚¹

  ```kotlin
  class Node<E> {
      var e: E? = null
      var left: Node<E>? = null
      var right: Node<E>? = null
  }
  ```

- æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªèŠ‚ç‚¹

- äºŒå‰æ ‘å…·æœ‰å¤©ç„¶é€’å½’ç»“æ„

- æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­—æ•°ä¹Ÿæ˜¯äºŒå‰æ ‘

- äºŒå‰æ ‘ä¸ä¸€å®šæ˜¯æ»¡çš„

![image-20200920234901840](https://tva1.sinaimg.cn/large/007S8ZIlly1gixjumgphkj30z90k2abr.jpg)

#### äºŒå‰æ ‘

> ä¸€ä¸ªnullæ ‘ä¹Ÿå«åšäºŒå‰æ ‘ï¼Œå°±ç®—åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯äºŒå‰æ ‘

#### å·¦æ–œæ ‘&å³æ–œæ ‘

> äºŒå‰æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹æ–¹å‘ç›¸åŒï¼Œå…¨éƒ¨èŠ‚ç‚¹åªæœ‰å·¦å­èŠ‚ç‚¹çš„ç§°ä¸ºå·¦æ–œæ ‘ï¼Œåªæœ‰å³å­èŠ‚ç‚¹çš„ç§°ä¸ºå³æ–œæ ‘ã€‚

#### æ»¡äºŒå‰æ ‘

> é™¤æœ€åä¸€å±‚æ— ä»»ä½•å­èŠ‚ç‚¹å¤–ï¼Œæ¯ä¸€å±‚ä¸Šçš„æ‰€æœ‰ç»“ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­ç»“ç‚¹çš„äºŒå‰æ ‘ã€‚

#### å®Œå…¨äºŒå‰æ ‘

> å®Œå…¨äºŒå‰æ ‘æ˜¯ç”±æ»¡äºŒå‰æ ‘è€Œå¼•å‡ºæ¥çš„ï¼Œè‹¥è®¾äºŒå‰æ ‘çš„æ·±åº¦ä¸ºhï¼Œé™¤ç¬¬ h å±‚å¤–ï¼Œå…¶å®ƒå„å±‚ (1ï½h-1) çš„ç»“ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§ä¸ªæ•°(å³1~h-1å±‚ä¸ºä¸€ä¸ªæ»¡äºŒå‰æ ‘)ï¼Œç¬¬ h å±‚æ‰€æœ‰çš„ç»“ç‚¹éƒ½è¿ç»­é›†ä¸­åœ¨æœ€å·¦è¾¹ï¼Œè¿™å°±æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚



### ä»€ä¹ˆæ˜¯äºŒåˆ†æœç´¢æ ‘(Binary Search Tree)ï¼Ÿ

- äºŒåˆ†æœç´¢æ ‘æ˜¯äºŒå‰æ ‘ï¼›
- äºŒåˆ†æœç´¢æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å¤§äºå…¶å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œå°äºå…¶å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼,ç®€ç§° **å·¦å°å³å¤§**ï¼›
- æ¯ä¸€é¢—å­—æ•°ä¹Ÿæ˜¯äºŒåˆ†æœç´¢æ ‘ï¼›
- å­˜å‚¨çš„å…ƒç´ å¿…é¡»æœ‰å¯æ¯”è¾ƒæ€§ï¼›

![image-20200920235413834](https://tva1.sinaimg.cn/large/007S8ZIlly1gixjzzx6tgj30f809st91.jpg)



## äºŒå‰æ ‘çš„éå†

#### å‰åºéå†

> å…ˆéå† èŠ‚ç‚¹e,å†éå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘

#### ä¸­åºéå†

> å…ˆéå† å·¦å­æ ‘ï¼Œå†éå†èŠ‚ç‚¹e,æœ€åéå†å³å­æ ‘

#### ååºéå†

> å…ˆéå†å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œæœ€åéå†èŠ‚ç‚¹e

#### ä¸¾ä¸ªæ —å­ğŸŒ°

![image-20200912082429375](https://tva1.sinaimg.cn/large/007S8ZIlly1gink65gbbnj30ea0ctaae.jpg)

**å‰åºéå†**

```
28ï¼Œ20ï¼Œ17ï¼Œ15ï¼Œ25ï¼Œ30ï¼Œ29ï¼Œ35
```

**ä¸­åºéå†**

```
15ï¼Œ17ï¼Œ20ï¼Œ25ï¼Œ28ï¼Œ29ï¼Œ30ï¼Œ35
```

**ååºéå†**

```
15ï¼Œ17ï¼Œ25ï¼Œ20ï¼Œ29ï¼Œ35ï¼Œ30ï¼Œ28
```



## ä»£ç å®ç°

è¿™é‡Œå®ç°ä¸€äº›æ¯”è¾ƒç»å…¸çš„æ¡ˆä¾‹ï¼Œæ¯”è¾ƒç®€å•çš„å¦‚å‰åºéå†ï¼Œä¸­åºéå†ï¼Œååºéå†ï¼Œä½¿ç”¨é€’å½’ï¼Œæ ˆï¼Œé˜Ÿåˆ— éƒ½å¯ä»¥ç®€å•å®ç°ã€‚

### äºŒå‰æ ‘çš„æ’å…¥

```kotlin
 private fun add(node: Node<E>?, e: E): Node<E> {
        if (node == null) {
            ++size
            return Node(e)
        }
        if (node.e > e)
            node.left = add(node.left, e)
        else if (node.e < e)
            node.right = add(node.right, e)
        return node
    }
```

æ•´ä½“æ€è·¯ä¹Ÿéå¸¸ç®€å•ï¼ŒæŒ‰ç…§å‰åºéå†çš„æ–¹å¼ï¼Œæˆ‘ä»¬å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åå†éå†å³å­æ ‘ï¼Œé€šè¿‡é€’å½’çš„å®ç°ï¼Œéå¸¸å®¹æ˜“ã€‚



### äºŒå‰æ ‘çš„åˆ é™¤

```kotlin
   /**
     * åˆ é™¤ä»¥node ä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ å€¼ä¸ºeçš„èŠ‚ç‚¹
     * è¿”å› åˆ é™¤èŠ‚ç‚¹åæ–°çš„äºŒåˆ†æœç´¢æ ‘çš„æ ¹
     * */
    private fun remove(node: Node<E>?, e: E): Node<E>? {
        //å¥å£®æ€§åˆ¤æ–­
        if (node == null) return node
        return when {
            //éå†å·¦å­©å­
            e < node.e -> {
                node.left=remove(node.left, e)
                node
            }
            //å¦åˆ™éå†å³å­©å­
            e > node.e -> {
                node.right=remove(node.right, e)
                node
            }
            else -> { //node.e==e
                //å·¦å­©å­ä¸ºnull
                if (node.left == null) {
                    //å…ˆæ‹¿åˆ°å½“å‰å³å­©å­
                    val rightNode = node.right
                    //åˆ é™¤å³å­æ ‘
                    node.right = null
                    //æ›´æ–°æ ‘çš„é«˜åº¦
                    --size
                    //è¿”å›åˆ é™¤åçš„å³å­æ ‘
                    return rightNode
                }
                //å³å­©å­ä¸ºnull
                if (node.right == null) {
                    val leftNode = node.left
                    node.left = null
                    --size
                    return leftNode
                }
                //æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹å·¦å³å­æ ‘å‡ä¸ä¸ºnullçš„æƒ…å†µ
                //æ‰¾åˆ°æ¯”å¾…åˆ é™¤èŠ‚ç‚¹å¤§çš„æœ€å°èŠ‚ç‚¹ï¼Œå³åˆ é™¤èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹
                // ç”¨è¿™ä¸ªèŠ‚ç‚¹æ›¿ä»£åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®
                val nodeSuccess = minimum(node.right!!)
                nodeSuccess.right = removeMin(node.right)
                nodeSuccess.left = node.left
                node.left = null
                node.right = null
                return nodeSuccess
            }
        }
    }
```



### äºŒåˆ†æœç´¢æ ‘çš„å±‚åºéå†

#### bfså®ç°

```kotlin
 /** å±‚åºéå†-é˜Ÿåˆ—å®ç°-bfs */
    fun levelOrder() {
        val q = LinkedList<Node<E>>()
        root?.let { q.add(it) }
        while (!q.isEmpty()) {
            val node = q.remove()
            print("${node.e},")
            node?.left?.let {
                q.add(it)
            }
            node?.right?.let {
                q.add(it)
            }
        }
    }
```

#### dfså®ç°(æŒ‰å±‚è¾“å‡º)

```kotlin
/* å±‚åºéå†-æ™®é€šarraylist */
private fun getBstList(
    node: Node<E>?,
    height: Int,
    arrayList: ArrayList<LinkedList<String>>
): ArrayList<LinkedList<String>> {
    //å¦‚æœå½“å‰é«˜åº¦ä¸ºnull,å°±æ–°å¢ä¸€ä¸ªå­list
    if (arrayList.size <= height) {
        arrayList.add(LinkedList())
    }

    if (node == null) {
        val nullLists = arrayList[height]
        nullLists.add("#")
        return arrayList
    }

    //æ‹¿åˆ°å­listï¼Œå¼€å§‹å¢åŠ 
    val lists = arrayList[height]

    //è®¡ç®—ä»€ä¹ˆä½ç½®æ—¶å¢åŠ ä¸‹æ ‡
    lists.add(node.e.toString())

    getBstList(node.left, height + 1, arrayList)
    getBstList(node.right, height + 1, arrayList)
    return arrayList
}
```



### æ›´å¤šæ–¹æ³•

ç›¸å…³çš„æ›´å¤šå®ç°æ–¹æ³•è¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹ [Github-é‡å­¦æ•°æ®ç»“æ„-äºŒåˆ†æœç´¢æ ‘](https://github.com/Petterpx/DataStructure-Example/blob/master/BST/src/BST.kt)

- å‰ï¼Œä¸­ï¼Œååºéå†
- å¯»æ‰¾æ ‘ä¸­æœ€å°å…ƒç´ ï¼Œæœ€å¤§å…ƒç´ 
- å¯»æ‰¾æ ‘ä¸­æœ€å°å…ƒç´ èŠ‚ç‚¹ï¼Œæœ€å¤§å…ƒç´ èŠ‚ç‚¹
- äºŒåˆ†æœç´¢æ ‘åˆ é™¤æœ€å°å€¼ï¼Œæœ€å¤§å€¼æ‰€åœ¨èŠ‚ç‚¹ï¼Œå¹¶è¿”å›æœ€å°å€¼ï¼Œæœ€å¤§å€¼





å‚è€ƒè§†é¢‘ï¼š[æ…•è¯¾ç½‘liuyubobobo](https://www.imooc.com/t/108955)

> æˆ‘æ˜¯ *Petterp* ,å¦‚æœä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµğŸ‘ ï¼Œå¦‚æœæœ‰ä»»ä½•æƒ³æ³•å’Œé—®é¢˜ï¼Œéšæ—¶æ¬¢è¿è¯„è®ºåŒºä¸€èµ·è®¨è®ºã€‚ğŸ‘¨â€ğŸ’»â€

