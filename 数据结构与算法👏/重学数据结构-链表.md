# é‡å­¦æ•°æ®ç»“æ„-é“¾è¡¨

### What is a linked listï¼ŸğŸ¤”

- ä¸åŒäºæ ˆä¸é˜Ÿåˆ—åŠåŠ¨æ€æ•°ç»„ï¼Œå®ƒæ˜¯çœŸæ­£æ„ä¹‰ä¸Šæœ€ç®€å•çš„åŠ¨æ€æ•°æ®ç»“æ„ã€‚

- ä¼˜ç‚¹ï¼šçœŸæ­£çš„åŠ¨æ€ï¼Œä¸éœ€è¦å¤„ç†å›ºå®šå®¹é‡çš„é—®é¢˜

- ç¼ºç‚¹ï¼šä¸§å¤±äº†éšæœºè®¿é—®çš„èƒ½åŠ›

- æ•°æ®å­˜å‚¨åœ¨ â€œèŠ‚ç‚¹â€ï¼ˆNodeï¼‰ä¸­

  ```kotlin
  class Node(val e: E, val next: Node)
  ```



![image-20200826102852746](https://tva1.sinaimg.cn/large/007S8ZIlly1gi408c1lj2j30jo044dft.jpg)

### å­¦ä¹ é“¾è¡¨æˆ‘ä»¬å¯ä»¥è·å¾—å“ªäº›ï¼Ÿ

- åŠ æ·±å¼•ç”¨çš„ç†è§£ã€‚(ç±»ä¼¼Cè¯­è¨€çš„æŒ‡é’ˆ)
- é“¾è¡¨å†…éƒ¨ä¹Ÿæœ‰é€’å½’ç»“æ„çš„æ€§è´¨
- ä¾¿äºé˜Ÿå…¶ä»–æ•°æ®ç»“æ„çš„è¾…åŠ©



### å•å‘é“¾è¡¨

```kotlin
class LinkedList<E> {
    private var size = 0
  	//å¤´ç»“ç‚¹
    private var head: Node<E>? = null

    private class Node<E>(var e: E? = null, var next: Node<E>? = null) {
        override fun toString(): String {
            return e?.toString() ?: ""
        }
    }


    fun addFirst(e: E) {
//        val node = Node(e)
//        node.next = head
//        head = node
        //ç®€åŒ–ç‰ˆæ·»åŠ é¦–å…ƒç´ 
        head = Node(e, head)
        ++size
    }
    

    /** ç§»é™¤è¡¨å¤´O(1) */
    fun removeFirst() {
        if (head == null) throw RuntimeException("nodeFirst != null!!")
        val node = head?.next
        head?.e = null
        head = node
        --size
    }

    /** åœ¨é“¾è¡¨æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´  */
    fun addIndexed(index: Int, e: E) {
        if (index > size || index < 0) throw RuntimeException("æŒ‡å®šä½ç½®é•¿åº¦ä¸å¾—è¶…è¿‡ç°æœ‰é“¾è¡¨é•¿åº¦")
        if (size == 0) {
            addFirst(e)
        } else {
            var node = head
            var sum = 0
            while (node != null) {
                if (sum++ == index - 1) {
                    node.next = Node(e, node.next)
                    ++size
                    return
                }
                node = node.next
            }
        }
    }

    /** å°¾ç»“ç‚¹æ·»åŠ  */
    fun addLast(e: E) {
        addIndexed(size, e)
    }

    /** è¿”å›é“¾è¡¨æ˜¯å¦ä¸ºnull  */
    private fun isEmpty(): Boolean {
        return size == 0
    }

    override fun toString(): String {
        val stringBuilder = StringBuilder("å¼€å§‹--- [")
        if (head?.e != null)
            stringBuilder.append("${head?.e},")
        var next = head?.next
        while (next != null) {
            stringBuilder.append("${next.e},")
            next = next.next
        }
        if (head?.e != null) {
            stringBuilder.deleteCharAt(stringBuilder.length - 1)
        }
        return stringBuilder.append("]--- ç»“æŸ").toString()
    }
}
```

